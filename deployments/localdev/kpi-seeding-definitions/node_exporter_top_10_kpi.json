{
  "node_exporter_top_10_kpis": [
    {
      "kpi_name": "Server Health Score",
      "kpi_formula": "(\n  (1 - (node_load1 / count without(cpu, mode) (node_cpu_seconds_total{mode=\"idle\"}) or vector(0.8)))\n  + (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes or vector(0.2))\n  + (node_filesystem_avail_bytes{fstype!~\"tmpfs|ramfs\"} / node_filesystem_size_bytes{fstype!~\"tmpfs|ramfs\"} or vector(0.1))\n) / 3 * 100",
      "kpi_definition": "This is an overall health score (0-100%) for your server. A score of 100% means the server's core resources (CPU, Memory, Disk) are all within safe operating limits. A lower score indicates one or more resources are under stress, which could lead to slow performance or outages for applications running on it.",
      "layer": "cause",
      "classifier": "infrastructure_health",
      "sentiment": "positive",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "CPU Saturation Pressure",
      "kpi_formula": "rate(node_pressure_cpu_waiting_seconds_total[5m])",
      "kpi_definition": "This measures how often tasks are waiting for the CPU because all cores are busy. A high value means the server is fundamentally overloaded and cannot keep up with demand, causing significant slow-downs for all users and processes.",
      "layer": "cause", 
      "classifier": "compute_capacity",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Memory Exhaustion Risk",
      "kpi_formula": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100",
      "kpi_definition": "This shows the percentage of total memory that is actively in use. If this value gets too high (e.g., over 90%), the server is at high risk of running out of memory, which will cause applications to crash or become unresponsive.",
      "layer": "cause",
      "classifier": "memory_capacity",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Disk Space Exhaustion Forecast",
      "kpi_formula": "(1 - (node_filesystem_avail_bytes{fstype!~\"tmpfs|ramfs\"} / node_filesystem_size_bytes{fstype!~\"tmpfs|ramfs\"})) * 100",
      "kpi_definition": "This shows the percentage of disk space currently used. If this value gets too high, the server will be unable to save new files, log data, or update applications, causing them to fail completely.",
      "layer": "cause",
      "classifier": "storage_capacity",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Disk I/O Saturation",
      "kpi_formula": "rate(node_disk_io_time_seconds_total[5m])",
      "kpi_definition": "This measures how busy the disk drives are. A consistently high value means the disks are a bottleneck, causing slow data saving and retrieval. This directly translates to slow application response times.",
      "layer": "cause",
      "classifier": "storage_performance",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Network Connectivity Health",
      "kpi_formula": "up{job=\"node_exporter\"}",
      "kpi_definition": "This is a simple up/down status check for the server. A value of 1 means the server is reachable and reporting data. A value of 0 means it is completely offline and unreachable.",
      "layer": "cause",
      "classifier": "network_connectivity",
      "sentiment": "positive",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "System Stability & Uptime",
      "kpi_formula": "node_time_seconds - node_boot_time_seconds",
      "kpi_definition": "This shows how long the server has been running without a restart. A consistently high and growing number is a sign of a stable, reliable system. Frequent resets indicate unexpected crashes or instability.",
      "layer": "cause",
      "classifier": "system_stability",
      "sentiment": "positive",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Server Load vs Capacity",
      "kpi_formula": "node_load1 / count without(cpu, mode) (node_cpu_seconds_total{mode=\"idle\"})",
      "kpi_definition": "This compares the current demand (load) on the server to its number of CPU cores. A value of 1.0 means the server is at 100% capacity. Values consistently above 1.0 mean it is overloaded.",
      "layer": "cause",
      "classifier": "compute_utilization",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Disk Wear & Potential Failure",
      "kpi_formula": "rate(node_disk_read_time_seconds_total[1h]) + rate(node_disk_write_time_seconds_total[1h])",
      "kpi_definition": "This measures the total active usage time of the disk drives. Consistently high values indicate heavy wear and tear, which can shorten the lifespan of hardware components and increase the risk of failure.",
      "layer": "cause",
      "classifier": "hardware_reliability",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    },
    {
      "kpi_name": "Context Switches & Software Efficiency",
      "kpi_formula": "rate(node_context_switches_total[5m])",
      "kpi_definition": "This measures how frequently the CPU is forced to switch between different tasks. A sudden, sustained spike can indicate inefficient software or misconfigured applications, causing the CPU to waste cycles on management overhead.",
      "layer": "cause",
      "classifier": "software_efficiency",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics"
    }
  ]
}