{
  "kafka_jmx_top_10_kpis": [
    {
      "kpi_name": "Kafka Produce Total",
      "kpi_formula": "sum(kafka_produce_total)",
      "kpi_definition": "Total count of messages produced to Kafka topics. Tracks overall producer activity.",
      "layer": "cause",
      "classifier": "producer_throughput",
      "sentiment": "neutral",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    },
    {
      "kpi_name": "Kafka Consume Total",
      "kpi_formula": "sum(kafka_consume_total)",
      "kpi_definition": "Total count of messages consumed from Kafka topics. Tracks overall consumer activity.",
      "layer": "cause",
      "classifier": "consumer_performance",
      "sentiment": "neutral",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    },
    {
      "kpi_name": "Kafka Produce Latency",
      "kpi_formula": "sum(kafka_produce_latency_seconds_sum) / sum(kafka_produce_latency_seconds_count)",
      "kpi_definition": "Average time taken to produce messages to Kafka. High latency indicates broker resource constraints or network issues.",
      "layer": "cause",
      "classifier": "message_latency",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    },
    {
      "kpi_name": "Kafka Consume Latency",
      "kpi_formula": "sum(kafka_consume_latency_seconds_sum) / sum(kafka_consume_latency_seconds_count)",
      "kpi_definition": "Average time taken to consume messages from Kafka. High latency indicates consumer processing bottlenecks.",
      "layer": "cause",
      "classifier": "message_latency",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    },
    {
      "kpi_name": "Kafka Produce Latency P99",
      "kpi_formula": "histogram_quantile(0.99, sum(kafka_produce_latency_seconds_bucket) by (le))",
      "kpi_definition": "The slowest 1% of produce requests. High latency here means some messages are taking very long to process.",
      "layer": "cause",
      "classifier": "message_throughput",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    },
    {
      "kpi_name": "Kafka Consume Latency P99",
      "kpi_formula": "histogram_quantile(0.99, sum(kafka_consume_latency_seconds_bucket) by (le))",
      "kpi_definition": "The slowest 1% of consume requests. High latency indicates some consumers are experiencing severe delays.",
      "layer": "cause",
      "classifier": "message_throughput",
      "sentiment": "negative",
      "signal_type": "metrics",
      "query_type": "PromQL",
      "datastore": "victoriametrics",
      "serviceFamily": "kafka"
    }
  ]
}