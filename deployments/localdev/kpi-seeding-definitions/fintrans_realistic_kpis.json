[
  {
    "name": "Transaction Success Rate",
    "description": "Percentage of successful transactions across all services",
    "formula": "sum(rate(transactions_total{success=\"true\"}[5m])) / sum(rate(transactions_total[5m])) * 100",
    "unit": "%",
    "layer": "impact",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "business",
    "tags": [
      "transaction",
      "success",
      "business-kpi"
    ],
    "query": {
      "query": "sum(rate(transactions_total{success=\"true\"}[5m])) / sum(rate(transactions_total[5m])) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Transaction Failure Rate",
    "description": "Percentage of failed transactions",
    "formula": "sum(rate(transactions_failed_total[5m])) / sum(rate(transactions_total[5m])) * 100",
    "unit": "%",
    "layer": "impact",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "business",
    "tags": [
      "transaction",
      "failure",
      "business-kpi"
    ],
    "query": {
      "query": "sum(rate(transactions_failed_total[5m])) / sum(rate(transactions_total[5m])) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Transaction Latency p99",
    "description": "99th percentile latency of transactions in seconds",
    "formula": "histogram_quantile(0.99, sum(rate(transaction_latency_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "impact",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "transaction",
      "latency",
      "performance"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(transaction_latency_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Transaction Latency p95",
    "description": "95th percentile latency of transactions in seconds",
    "formula": "histogram_quantile(0.95, sum(rate(transaction_latency_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "impact",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "transaction",
      "latency",
      "performance"
    ],
    "query": {
      "query": "histogram_quantile(0.95, sum(rate(transaction_latency_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Transaction Rate",
    "description": "Number of transactions per second across all services",
    "formula": "sum(rate(transactions_total[5m]))",
    "unit": "tps",
    "layer": "impact",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "business",
    "tags": [
      "transaction",
      "throughput",
      "business-kpi"
    ],
    "query": {
      "query": "sum(rate(transactions_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "DB Latency p99",
    "description": "99th percentile database latency in seconds",
    "formula": "histogram_quantile(0.99, sum(rate(db_latency_seconds_bucket[5m])) by (le, service_name))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "database",
      "latency",
      "performance"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(db_latency_seconds_bucket[5m])) by (le, service_name))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "DB Latency p95",
    "description": "95th percentile database latency in seconds",
    "formula": "histogram_quantile(0.95, sum(rate(db_latency_seconds_bucket[5m])) by (le, service_name))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "database",
      "latency",
      "performance"
    ],
    "query": {
      "query": "histogram_quantile(0.95, sum(rate(db_latency_seconds_bucket[5m])) by (le, service_name))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "DB Failed Requests %",
    "description": "Percentage of failed database requests",
    "formula": "sum(rate(db_latency_seconds_bucket{failed=\"true\"}[5m])) by (service_name) / sum(rate(db_latency_seconds_bucket[5m])) by (service_name) * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "database",
      "failure",
      "error-rate"
    ],
    "query": {
      "query": "sum(rate(db_latency_seconds_bucket{failed=\"true\"}[5m])) by (service_name) / sum(rate(db_latency_seconds_bucket[5m])) by (service_name) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "DB Operations Rate",
    "description": "Rate of database operations per second",
    "formula": "sum(rate(db_ops_total[5m]))",
    "unit": "ops/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "database",
      "throughput",
      "operations"
    ],
    "query": {
      "query": "sum(rate(db_ops_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Span Calls Rate",
    "description": "Rate of span calls per second",
    "formula": "sum(rate(traces_span_metrics_calls_total[5m])) by (service_name, span_name)",
    "unit": "calls/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "traces",
      "span",
      "throughput"
    ],
    "query": {
      "query": "sum(rate(traces_span_metrics_calls_total[5m])) by (service_name, span_name)"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Span Error Rate %",
    "description": "Percentage of erroneous spans",
    "formula": "sum(rate(traces_span_metrics_calls_total{status_code=\"ERROR\"}[5m])) by (service_name, span_name) / sum(rate(traces_span_metrics_calls_total[5m])) by (service_name, span_name) * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "error",
    "tags": [
      "traces",
      "span",
      "error-rate"
    ],
    "query": {
      "query": "sum(rate(traces_span_metrics_calls_total{status_code=\"ERROR\"}[5m])) by (service_name, span_name) / sum(rate(traces_span_metrics_calls_total[5m])) by (service_name, span_name) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Span Duration p99",
    "description": "99th percentile span duration in milliseconds",
    "formula": "histogram_quantile(0.99, sum(rate(traces_span_metrics_duration_milliseconds_bucket[5m])) by (le, service_name, span_name))",
    "unit": "ms",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "traces",
      "span",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(traces_span_metrics_duration_milliseconds_bucket[5m])) by (le, service_name, span_name))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Span Duration p95",
    "description": "95th percentile span duration in milliseconds",
    "formula": "histogram_quantile(0.95, sum(rate(traces_span_metrics_duration_milliseconds_bucket[5m])) by (le, service_name, span_name))",
    "unit": "ms",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "traces",
      "span",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.95, sum(rate(traces_span_metrics_duration_milliseconds_bucket[5m])) by (le, service_name, span_name))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Service Request Success Rate",
    "description": "Percentage of successful service graph requests",
    "formula": "sum(rate(traces_service_graph_request_total[5m])) - sum(rate(traces_service_graph_request_failed_total[5m])) / sum(rate(traces_service_graph_request_total[5m])) * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "service-graph",
      "success",
      "performance"
    ],
    "query": {
      "query": "sum(rate(traces_service_graph_request_total[5m])) - sum(rate(traces_service_graph_request_failed_total[5m])) / sum(rate(traces_service_graph_request_total[5m])) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Service Request Failure Rate %",
    "description": "Percentage of failed service graph requests",
    "formula": "sum(rate(traces_service_graph_request_failed_total[5m])) / sum(rate(traces_service_graph_request_total[5m])) * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "error",
    "tags": [
      "service-graph",
      "failure",
      "error-rate"
    ],
    "query": {
      "query": "sum(rate(traces_service_graph_request_failed_total[5m])) / sum(rate(traces_service_graph_request_total[5m])) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Service Request Latency p99",
    "description": "99th percentile service request latency in seconds",
    "formula": "histogram_quantile(0.99, sum(rate(traces_service_graph_request_server_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "service-graph",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(traces_service_graph_request_server_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Service Request Latency p95",
    "description": "95th percentile service request latency in seconds",
    "formula": "histogram_quantile(0.95, sum(rate(traces_service_graph_request_server_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "service-graph",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.95, sum(rate(traces_service_graph_request_server_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Kafka Produce Latency p99",
    "description": "99th percentile Kafka produce latency in seconds",
    "formula": "histogram_quantile(0.99, sum(rate(kafka_produce_latency_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "kafka",
      "produce",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(kafka_produce_latency_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Kafka Produce Total",
    "description": "Total number of Kafka produce operations",
    "formula": "sum(rate(kafka_produce_total[5m]))",
    "unit": "ops/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "kafka",
      "produce",
      "throughput"
    ],
    "query": {
      "query": "sum(rate(kafka_produce_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Kafka Consume Latency p99",
    "description": "99th percentile Kafka consume latency in seconds",
    "formula": "histogram_quantile(0.99, sum(rate(kafka_consume_latency_seconds_bucket[5m])) by (le))",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "kafka",
      "consume",
      "latency"
    ],
    "query": {
      "query": "histogram_quantile(0.99, sum(rate(kafka_consume_latency_seconds_bucket[5m])) by (le))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Kafka Consume Total",
    "description": "Total number of Kafka consume operations",
    "formula": "sum(rate(kafka_consume_total[5m]))",
    "unit": "ops/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "kafka",
      "consume",
      "throughput"
    ],
    "query": {
      "query": "sum(rate(kafka_consume_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "JVM Memory Used %",
    "description": "Percentage of JVM heap memory used",
    "formula": "sum(jvm_memory_used_bytes{area=\"heap\"}) / sum(jvm_memory_max_bytes{area=\"heap\"}) * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "jvm",
      "memory",
      "resource"
    ],
    "query": {
      "query": "sum(jvm_memory_used_bytes{area=\"heap\"}) / sum(jvm_memory_max_bytes{area=\"heap\"}) * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "GC Pause Duration Rate",
    "description": "Rate of GC pause time in seconds",
    "formula": "sum(rate(jvm_gc_pause_seconds_sum_total[5m]))",
    "unit": "s/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "jvm",
      "gc",
      "resource"
    ],
    "query": {
      "query": "sum(rate(jvm_gc_pause_seconds_sum_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "CPU Usage %",
    "description": "Process CPU usage percentage",
    "formula": "process_cpu_usage * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "cpu",
      "process",
      "resource"
    ],
    "query": {
      "query": "process_cpu_usage * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Node Context Switches Rate",
    "description": "Rate of context switches per second",
    "formula": "sum(rate(node_context_switches_total[5m]))",
    "unit": "switches/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "node",
      "cpu",
      "system"
    ],
    "query": {
      "query": "sum(rate(node_context_switches_total[5m]))"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Redis Memory Used",
    "description": "Redis memory usage in bytes",
    "formula": "redis_memory_used_bytes",
    "unit": "bytes",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "redis",
      "memory",
      "resource"
    ],
    "query": {
      "query": "redis_memory_used_bytes"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "HikariCP Active Connections",
    "description": "Number of active HikariCP database connections",
    "formula": "hikaricp_connections_active",
    "unit": "connections",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "database",
      "connection",
      "resource"
    ],
    "query": {
      "query": "hikaricp_connections_active"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Tomcat Busy Threads %",
    "description": "Percentage of Tomcat busy threads",
    "formula": "tomcat_threads_busy_threads / 200 * 100",
    "unit": "%",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "tomcat",
      "threads",
      "resource"
    ],
    "query": {
      "query": "tomcat_threads_busy_threads / 200 * 100"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Tomcat Queue Time",
    "description": "Tomcat thread queue time in seconds",
    "formula": "tomcat_threads_queue_seconds",
    "unit": "s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "performance",
    "tags": [
      "tomcat",
      "queue",
      "latency"
    ],
    "query": {
      "query": "tomcat_threads_queue_seconds"
    },
    "serviceFamily": "fintrans"
  },
  {
    "name": "Node Disk IO Time Rate",
    "description": "Rate of node disk IO time in seconds",
    "formula": "sum(rate(node_disk_io_time_seconds_total[5m]))",
    "unit": "s/s",
    "layer": "cause",
    "signal_type": "metric",
    "datastore": "metrics",
    "query_type": "metric",
    "kind": "infrastructure",
    "tags": [
      "disk",
      "io",
      "performance"
    ],
    "query": {
      "query": "sum(rate(node_disk_io_time_seconds_total[5m]))"
    },
    "serviceFamily": "fintrans"
  }
]
